# テスト計画書（Test Plan）

## 0. 本資料の位置づけ
- 本資料は、Unyte Wallet 開発における品質保証のためのテスト全体方針を示すものです。
- 機能試験・非機能試験・E2E試験・リグレッション試験などの試験目的、体制、スケジュールを記述します。

---

## 1. テスト対象

### 機能
| ID   | 機能名             | 対象画面 | 対象API           |
|------|------------------|----------|-------------------|
| F01  | ログイン機能       | S01      | /auth/login       |
| F02  | トークン残高取得   | S02      | /balance/:address |
| F03  | トランザクション提案 | S03      | /tx/propose       |
| F04  | 署名・実行機能     | S04, S05 | /tx/sign          |

### 対象外（スコープ外）
- スマートコントラクト自体のセキュリティ監査（外部実施予定）
- Admin機能（次期リリース対象）

---

## 2. テスト種別と目的

| 種別           | 目的                                         |
|----------------|----------------------------------------------|
| 単体テスト     | ロジック単位の正常/異常動作検証               |
| 結合テスト     | UI/API/DBの連携整合性確認                     |
| E2Eテスト      | 実ユーザーの操作フロー全体の検証               |
| 非機能テスト   | パフォーマンス、可用性、セキュリティの確認    |
| 回帰テスト     | 機能追加・修正後の既存機能への影響チェック     |

---

## 3. テスト体制

| 役割           | 担当者名／チーム             | 備考                     |
|----------------|------------------------------|--------------------------|
| テスト計画     | 藤本（QA）                   | 外部委託                 |
| 単体/結合テスト| 高橋、佐藤（Dev）            | 自動テスト含む           |
| E2Eテスト      | 鈴木（FE）、藤本（QA）       | Playwright使用予定       |
| テスト管理     | 田中（PM）                   | QAチーム支援             |

---

## 4. テスト環境

| 環境項目   | 内容                                      |
|------------|-------------------------------------------|
| テスト環境URL | https://unyte-wallet-dev.vercel.app     |
| バックエンド | NestJS（Lambdaデプロイ）                |
| DB         | RDS PostgreSQL (テスト用)                |
| テスト用アカウント | Firebase Auth テスト用 UID, メール |

---

## 5. スケジュール（予定）

| フェーズ         | 開始         | 終了予定     | 備考                  |
|------------------|--------------|--------------|-----------------------|
| 単体テスト        | 2025-04-25   | 2025-04-29   | PRベースで自動化      |
| 結合テスト        | 2025-04-30   | 2025-05-02   | Firebase連携含む      |
| E2Eテスト         | 2025-05-03   | 2025-05-06   | Chrome, モバイル両対応 |
| リグレッション試験 | 2025-05-07   | 2025-05-08   |                       |
| 本番リリース      | -            | 2025-05-10   |                       |

---

## 6. テスト実施方針

- **自動化**: 単体・一部結合テストはJest / Playwrightにて自動実行
- **チケット管理**: GitHub Issuesにてテスト観点ごとの進行管理
- **不具合管理**: Notionのバグ報告テンプレートを使用
- **試験結果記録**: `test-results.md` or Google Sheets にて管理

---

## 7. 品質基準（Exit Criteria）

| 指標 | 目標 |
|------|------|
| 重大バグ残存数 | 0件 |
| 中〜小バグ     | 修正済みまたは許容範囲 |
| 主要フロー通過率 | 100%（正常系） |
| テストケース網羅率 | 95%以上 |

---

## 8. リスクと対策

| リスク                       | 対策                                     |
|------------------------------|------------------------------------------|
| FCMやLINE連携の不安定さ     | モック環境を用意し、再送試験を実施       |
| モバイル端末でのUI差異      | 各機種ごとのUI確認手順をQAが準備         |
| Enclave署名の外部依存       | Cubistチームに事前動作確認を依頼         |

---

## 9. 関連資料
- [test-spec.md](./test-spec.md)
- [function-design.md](../basic/function-design.md)
- [api-specs.md](./api-specs.md)
- [validation-rules.md](./validation-rules.md)
